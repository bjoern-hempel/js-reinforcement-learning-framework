<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reinforced Learning</title>
    <script src="../sources/js/rl.js"></script>
</head>
<body>
    <select id="discountRate" onchange="calculateQ();" style="width: 100px; height: 50px;">
        <option value="0.1">0.1</option>
        <option value="0.5">0.5</option>
        <option value="0.9">0.9</option>
        <option value="0.95">0.95</option>
    </select>

    <br /><br />

    <script>

        var rlQLearning = new ReinforcementLearning.qLearning({splitAction: true, splitT: 0.025});

        /**
         * Calculate Q function.
         */
        function calculateQ() {
            var discountRate = parseFloat(document.getElementById('discountRate').value);

            rlQLearning.reset();

            var width = 5;
            var height = 3;
            var R = {
                0: {2: 100},
                1: {2: -10},
                2: {2: -10, 1: -10},
                3: {2: -10},
                4: {2: 0, 0: -10}
            };

            /* build the grid world */
            rlQLearning.buildGridWorld(width, height, R);

            var Q = rlQLearning.calculateQ(discountRate, {
                iterations: 100000,
                useSeededRandom: true,
                useOptimizedRandom: true,
                splitAction: true
            });

            rlQLearning.printTableGridWorld(Q, width, R);
            rlQLearning.printTableResult(Q);
        }

        calculateQ();

    </script>
</body>
</html>